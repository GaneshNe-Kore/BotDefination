{"nodeOptions":{"customTags":{"session":[],"message":[],"user":[]},"transitionType":"auto","isRetriesExceeded":false,"promptOptions":"required","reuseMarkedupPhrases":false,"interruptOptions":{"priority":"task","type":{"option":"doNotAllowHoldResume"}},"transitionMode":"initiateCurrentTask","inputHandlingOptions":"useAsEntityValue","reuseOptions":"1","userInputCorrection":true,"noAutoCorrection":false,"notForReuse":false,"contextTags":[],"precedence":"entityOverIntent","message":[{"channel":"default","localeData":{"en":{"text":"var%20accountsData%20%3D%20context.accountData%3B%0D%0A%0D%0A%0D%0Afunction%20getAccountString(accounts)%20%7B%0D%0A%20%20var%20account1%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20account2%20%3D%20%22%22%2C%0D%0A%20%20%20%20allAccounts%20%3D%20%5B%5D%3B%0D%0A%20%20accounts.forEach(function%20(obj)%20%7B%0D%0A%20%20%20%20var%20objLabel%20%3D%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3F%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3A%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3F%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3A%20obj.label%0D%0A%20%20%20%20%20%20%3F%20obj.label%0D%0A%20%20%20%20%20%20%3A%20obj.accountName%3B%0D%0A%20%20%20%20account1.push(objLabel)%3B%0D%0A%20%20%7D)%3B%0D%0A%20%20allAccounts%20%3D%20account1%3B%0D%0A%20%20if(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20%20%20account2%20%3D%20account1.pop()%3B%0D%0A%20%20%20%20%20%20return%20%5Baccount1.join(content.seperator)%2C%20account2%5D%3B%0D%0A%20%20%7D%0D%0A%20%20else%7B%0D%0A%20%20%20%20%20%20return%20account1.join(%22%5Cn%22)%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0D%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0D%0A%7D%0D%0A%0D%0Avar%20message%20%3D%20context.session.BotUserSession.isIVR%20%3F%20content.ivr_UpdatePM%20%3A%20content.updatePM%20%2B%20%22%5Cn%22%20%2B%20getAccountString(accountsData)%3B%0D%0Aif(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20context.accounts_one%20%3D%20getAccountString(accountsData)%5B0%5D%3B%0D%0A%20%20%20%20context.accounts_two%20%3D%20getAccountString(accountsData)%5B1%5D%3B%0D%0A%7D%0D%0Aprint(message)%3B%0D%0A%0D%0A%0D%0A","type":"uxmap"},"es":{"text":"var%20accountsData%20%3D%20context.accountData%3B%0D%0A%0D%0A%0D%0Afunction%20getAccountString(accounts)%20%7B%0D%0A%20%20var%20account1%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20account2%20%3D%20%22%22%2C%0D%0A%20%20%20%20allAccounts%20%3D%20%5B%5D%3B%0D%0A%20%20accounts.forEach(function%20(obj)%20%7B%0D%0A%20%20%20%20var%20objLabel%20%3D%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3F%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3A%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3F%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3A%20obj.label%0D%0A%20%20%20%20%20%20%3F%20obj.label%0D%0A%20%20%20%20%20%20%3A%20obj.accountName%3B%0D%0A%20%20%20%20account1.push(objLabel)%3B%0D%0A%20%20%7D)%3B%0D%0A%20%20allAccounts%20%3D%20account1%3B%0D%0A%20%20if(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20%20%20account2%20%3D%20account1.pop()%3B%0D%0A%20%20%20%20%20%20return%20%5Baccount1.join(content.seperator)%2C%20account2%5D%3B%0D%0A%20%20%7D%0D%0A%20%20else%7B%0D%0A%20%20%20%20%20%20return%20account1.join(%22%5Cn%22)%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0D%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0D%0A%7D%0D%0A%0D%0Avar%20message%20%3D%20context.session.BotUserSession.isIVR%20%3F%20content.ivr_UpdatePM%20%3A%20content.updatePM%20%2B%20%22%5Cn%22%20%2B%20getAccountString(accountsData)%3B%0D%0Aif(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20context.accounts_one%20%3D%20getAccountString(accountsData)%5B0%5D%3B%0D%0A%20%20%20%20context.accounts_two%20%3D%20getAccountString(accountsData)%5B1%5D%3B%0D%0A%7D%0D%0Aprint(message)%3B%0D%0A%0D%0A%0D%0A","type":"uxmap"},"ar":{"text":"var%20accountsData%20%3D%20context.accountData%3B%0D%0A%0D%0A%0D%0Afunction%20getAccountString(accounts)%20%7B%0D%0A%20%20var%20account1%20%3D%20%5B%5D%2C%0D%0A%20%20%20%20account2%20%3D%20%22%22%2C%0D%0A%20%20%20%20allAccounts%20%3D%20%5B%5D%3B%0D%0A%20%20accounts.forEach(function%20(obj)%20%7B%0D%0A%20%20%20%20var%20objLabel%20%3D%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3F%20obj.nicknameLabel%0D%0A%20%20%20%20%20%20%3A%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3F%20obj.accountNickname%0D%0A%20%20%20%20%20%20%3A%20obj.label%0D%0A%20%20%20%20%20%20%3F%20obj.label%0D%0A%20%20%20%20%20%20%3A%20obj.accountName%3B%0D%0A%20%20%20%20account1.push(objLabel)%3B%0D%0A%20%20%7D)%3B%0D%0A%20%20allAccounts%20%3D%20account1%3B%0D%0A%20%20if(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20%20%20account2%20%3D%20account1.pop()%3B%0D%0A%20%20%20%20%20%20return%20%5Baccount1.join(content.seperator)%2C%20account2%5D%3B%0D%0A%20%20%7D%0D%0A%20%20else%7B%0D%0A%20%20%20%20%20%20return%20account1.join(%22%5Cn%22)%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0D%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0D%0A%7D%0D%0A%0D%0Avar%20message%20%3D%20context.session.BotUserSession.isIVR%20%3F%20content.ivr_UpdatePM%20%3A%20content.updatePM%20%2B%20%22%5Cn%22%20%2B%20getAccountString(accountsData)%3B%0D%0Aif(context.session.BotUserSession.isIVR)%7B%0D%0A%20%20%20%20context.accounts_one%20%3D%20getAccountString(accountsData)%5B0%5D%3B%0D%0A%20%20%20%20context.accounts_two%20%3D%20getAccountString(accountsData)%5B1%5D%3B%0D%0A%7D%0D%0Aprint(message)%3B%0D%0A%0D%0A%0D%0A","type":"uxmap"}}},{"channel":"rtm","localeData":{"en":{"text":"%0Avar%20buttons%20%3D%20%5B%5D%3B%0Avar%20accountsData%20%3D%20context.accountData%3B%0A%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0A%7D%0A%0Aif(context.intentName%20%3D%3D%3D%20%22updateDetails%22%20%7C%7C%20context.intentName%20%3D%3D%3D%20%22updateAccountInfo%22)%20%7B%0A%20%20%20%20accountsData%20%3D%20context.accountData%3B%0A%7D%0A%0Afor(var%20i%20%3D0%20%3B%20i%3CaccountsData.length%20%3B%20i%2B%2B)%7B%0A%20%20%20%20var%20button%20%3D%20%7B%7D%3B%0A%20%20%20%20button.type%20%3D%20%22postback%22%3B%0A%20%20%20%20if(accountsData%5Bi%5D.nicknameLabel)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.nicknameLabel%3B%0A%20%20%20%20%7Delse%20if(accountsData%5Bi%5D.accountNickname)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%0A%20%20%20%7D%20else%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%7D%0A%20%20%20%20button.payload%20%3D%20button.title%3B%0A%20%20%20%20buttons.push(button)%3B%0A%7D%0A%0Avar%20msg%3B%0Aif(context.updateKey)%20%7B%0A%20%20%20%20msg%20%3D%20content.updatePM%0A%7D%20else%20%7B%0A%20%20%20%20msg%20%3D%20content.updateDetailsAccountPrompt%0A%7D%0A%0Avar%20message%20%3D%20%7B%0A%20%20%20%20%20%20%22type%22%3A%22template%22%2C%0A%20%20%20%20%20%20%22payload%22%3A%7B%0A%20%20%20%20%20%20%20%20%22template_type%22%3A%22button%22%2C%0A%22lang%22%3A%20context.currentLanguage%2C%0A%20%20%20%20%20%20%20%20%22text%22%3Amsg%2C%0A%09%20%20%20%20%2F%2F%22subText%22%3A%20%22Choose%20an%20option%20below...%22%2C%0A%20%20%20%20%20%20%20%20%22buttons%22%3Abuttons%0A%20%20%20%20%20%20%7D%0A%7D%3B%0A%0Aprint(JSON.stringify(message))%3B%0A%0A","type":"uxmap"},"es":{"text":"%0Avar%20buttons%20%3D%20%5B%5D%3B%0Avar%20accountsData%20%3D%20context.accountData%3B%0A%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0A%7D%0A%0Aif(context.intentName%20%3D%3D%3D%20%22updateDetails%22%20%7C%7C%20context.intentName%20%3D%3D%3D%20%22updateAccountInfo%22)%20%7B%0A%20%20%20%20accountsData%20%3D%20context.accountData%3B%0A%7D%0A%0Afor(var%20i%20%3D0%20%3B%20i%3CaccountsData.length%20%3B%20i%2B%2B)%7B%0A%20%20%20%20var%20button%20%3D%20%7B%7D%3B%0A%20%20%20%20button.type%20%3D%20%22postback%22%3B%0A%20%20%20%20if(accountsData%5Bi%5D.nicknameLabel)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.nicknameLabel%3B%0A%20%20%20%20%7Delse%20if(accountsData%5Bi%5D.accountNickname)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%0A%20%20%20%7D%20else%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%7D%0A%20%20%20%20button.payload%20%3D%20button.title%3B%0A%20%20%20%20buttons.push(button)%3B%0A%7D%0A%0Avar%20msg%3B%0Aif(context.updateKey)%20%7B%0A%20%20%20%20msg%20%3D%20content.updatePM%0A%7D%20else%20%7B%0A%20%20%20%20msg%20%3D%20content.updateDetailsAccountPrompt%0A%7D%0A%0Avar%20message%20%3D%20%7B%0A%20%20%20%20%20%20%22type%22%3A%22template%22%2C%0A%20%20%20%20%20%20%22payload%22%3A%7B%0A%20%20%20%20%20%20%20%20%22template_type%22%3A%22button%22%2C%0A%22lang%22%3A%20context.currentLanguage%2C%0A%20%20%20%20%20%20%20%20%22text%22%3Amsg%2C%0A%09%20%20%20%20%2F%2F%22subText%22%3A%20%22Choose%20an%20option%20below...%22%2C%0A%20%20%20%20%20%20%20%20%22buttons%22%3Abuttons%0A%20%20%20%20%20%20%7D%0A%7D%3B%0A%0Aprint(JSON.stringify(message))%3B%0A%0A","type":"uxmap"},"ar":{"text":"%0Avar%20buttons%20%3D%20%5B%5D%3B%0Avar%20accountsData%20%3D%20context.accountData%3B%0A%0Aif(context.workbenchAccountData%20%26%26%20context.workbenchAccountData.length%3E%200)%7B%0A%20%20%20%20accountsData%20%3D%20context.workbenchAccountData%3B%0A%7D%0A%0Aif(context.intentName%20%3D%3D%3D%20%22updateDetails%22%20%7C%7C%20context.intentName%20%3D%3D%3D%20%22updateAccountInfo%22)%20%7B%0A%20%20%20%20accountsData%20%3D%20context.accountData%3B%0A%7D%0A%0Afor(var%20i%20%3D0%20%3B%20i%3CaccountsData.length%20%3B%20i%2B%2B)%7B%0A%20%20%20%20var%20button%20%3D%20%7B%7D%3B%0A%20%20%20%20button.type%20%3D%20%22postback%22%3B%0A%20%20%20%20if(accountsData%5Bi%5D.nicknameLabel)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.nicknameLabel%3B%0A%20%20%20%20%7Delse%20if(accountsData%5Bi%5D.accountNickname)%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountNickname%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%0A%20%20%20%7D%20else%7B%0A%20%20%20%20%20%20%20%20button.title%20%3D%20accountsData%5Bi%5D.accountType%20%3D%3D%3D%20%22Credit%20Card%22%20%3F%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.cardNumber)%20%3A%20accountsData%5Bi%5D.accountName%2B%22%20-%20%22%2BmaskCardNumber(accountsData%5Bi%5D.accountNumber)%3B%0A%20%20%20%7D%0A%20%20%20%20button.payload%20%3D%20button.title%3B%0A%20%20%20%20buttons.push(button)%3B%0A%7D%0A%0Avar%20msg%3B%0Aif(context.updateKey)%20%7B%0A%20%20%20%20msg%20%3D%20content.updatePM%0A%7D%20else%20%7B%0A%20%20%20%20msg%20%3D%20content.updateDetailsAccountPrompt%0A%7D%0A%0Avar%20message%20%3D%20%7B%0A%20%20%20%20%20%20%22type%22%3A%22template%22%2C%0A%20%20%20%20%20%20%22payload%22%3A%7B%0A%20%20%20%20%20%20%20%20%22template_type%22%3A%22button%22%2C%0A%22lang%22%3A%20context.currentLanguage%2C%0A%20%20%20%20%20%20%20%20%22text%22%3Amsg%2C%0A%09%20%20%20%20%2F%2F%22subText%22%3A%20%22Choose%20an%20option%20below...%22%2C%0A%20%20%20%20%20%20%20%20%22buttons%22%3Abuttons%0A%20%20%20%20%20%20%7D%0A%7D%3B%0A%0Aprint(JSON.stringify(message))%3B%0A%0A","type":"uxmap"}}}],"errorMessage":[],"eventOptions":{"defaultMaxRetry":{"retry_limit":5,"action":"endOfDialog"}}},"vNameSpace":[],"preConditions":[],"useTaskLevelNs":true,"nodeId":"entity34","type":"entity","transitions":[{"if":{"context":"context.entities.AccountType.length","op":"gt","value":"1"},"then":"script141","metadata":{"color":"#299d8e","connId":"dummy7098"}},{"default":"script138","metadata":{"color":"#299d8e","connId":"dummy110"}}],"metadata":{"left":673,"top":2185},"componentId":"dc-7a2d2f8f-b44d-5eab-959d-daa73a874229"}